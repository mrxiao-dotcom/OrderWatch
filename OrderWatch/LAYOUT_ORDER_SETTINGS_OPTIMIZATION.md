# 下单设置区域优化说明

## 🎯 布局调整完成

### 新的三列布局结构

#### 第一列：候选币列表
- **宽度**：300px
- **内容**：
  - 合约输入区域
  - 合约建议列表
  - 候选币DataGrid（自适应高度）
  - 操作按钮

#### 第二列：下单设置区域（新增）
- **宽度**：200px
- **内容**：
  - ⚙️ 下单设置标题
  - 合约名称输入框
  - 最新价格显示
  - 杠杆选择（1x, 5x, 10x, 20x）
  - 数量输入框
  - 止损比例设置
  - 以损定量金额（USDT）
  - 买入/卖出方向选择

#### 第三列：功能区域（三行布局）
- **第一行**：持仓列表 (200px固定)
- **第二行**：委托和条件单列表 (200px固定)
- **第三行**：三个下单窗口 (自适应，填满剩余空间)

## 🔄 主要变化

### 1. 新增下单设置区域
- 在左侧候选币列表和右侧功能区域之间新增了200px宽度的下单设置区域
- 集中管理所有下单相关的参数设置
- 包含合约、价格、杠杆、数量、止损、以损定量等关键参数

### 2. 简化三个下单窗口
- **市价下单**：只保留下单按钮，使用左侧设置的所有参数
- **限价下单**：只保留限价输入框和下单按钮，其他参数使用左侧设置
- **条件下单**：只保留触发价输入框和下单按钮，其他参数使用左侧设置

### 3. 参数共享机制
- 三个下单窗口现在共用左侧下单设置区域的所有参数
- 避免了重复输入，提高了操作效率
- 确保下单参数的一致性

## ✨ 用户体验提升

1. **操作更集中**：
   - 所有下单参数在一个区域设置
   - 减少界面跳转和重复操作

2. **参数更一致**：
   - 三个下单方式使用相同的参数
   - 避免因参数不一致导致的错误

3. **界面更清晰**：
   - 左侧：合约管理
   - 中间：参数设置
   - 右侧：功能操作

4. **新增功能**：
   - 以损定量金额设置
   - 止损比例设置
   - 统一的杠杆和数量管理

## 🔧 技术实现

- 使用WPF Grid的三列布局
- 第一列和第二列使用固定宽度
- 第三列使用`*`宽度，自动填满剩余空间
- 所有下单窗口绑定到相同的ViewModel属性
- 保持原有的数据绑定和命令功能

## 📋 下单参数说明

### 基础参数
- **合约**：交易对名称（如BTCUSDT）
- **最新价**：实时显示当前价格
- **杠杆**：1x, 5x, 10x, 20x可选
- **数量**：下单数量
- **方向**：买入或卖出

### 高级参数
- **止损比例**：百分比形式的止损设置
- **以损定量**：以USDT为单位的风险金额

现在下单操作更加集中和高效，三个下单窗口共用统一的参数设置！
