# 日志和历史记录功能说明

## 概述
OrderWatch 现在包含完整的日志记录和历史记录系统，帮助用户跟踪所有操作和系统状态。

## 主要功能

### 1. 自动日志记录
- **系统日志**: 记录应用程序启动、关闭、错误等系统事件
- **交易日志**: 记录所有交易操作，包括下单、撤单、条件单等
- **API日志**: 记录与币安API的交互情况
- **操作日志**: 记录用户的各种操作，如添加/删除候选币、账户管理等

### 2. 日志级别
- **INFO**: 一般信息
- **WARNING**: 警告信息
- **ERROR**: 错误信息
- **TRADE**: 交易操作

### 3. 日志查看器
- **时间筛选**: 可选择开始和结束时间查看特定时间段的日志
- **类别筛选**: 可按类别筛选日志（全部、General、Trading、API、System）
- **导出功能**: 支持导出为CSV格式，便于分析和存档
- **自动清理**: 自动清理30天前的旧日志

## 使用方法

### 打开日志查看器
1. 点击状态栏中的"📋 日志查看器"按钮
2. 选择要查看的时间范围
3. 选择要查看的日志类别
4. 点击"刷新"按钮更新日志列表

### 导出日志
1. 在日志查看器中设置筛选条件
2. 点击"导出"按钮
3. 选择保存位置和文件名
4. 日志将以CSV格式导出

### 清理日志
1. 在日志查看器中点击"清理日志"按钮
2. 确认清理操作
3. 系统将自动清理30天前的日志

## 日志文件位置
- **应用程序日志**: `Logs/application.log`
- **交易日志**: `Logs/trades.log`

## 日志格式
每条日志包含以下信息：
- 时间戳
- 日志级别
- 类别
- 消息内容
- 相关合约信息（如适用）
- 操作类型（如适用）
- 价格和数量（如适用）
- 操作结果（如适用）

## 注意事项
- 日志文件会自动创建在应用程序目录下的Logs文件夹中
- 建议定期导出重要日志进行备份
- 系统会自动清理过期日志以节省磁盘空间
- 所有敏感信息（如API密钥）不会记录在日志中
