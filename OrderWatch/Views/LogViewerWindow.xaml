<Window x:Class="OrderWatch.Views.LogViewerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="æ—¥å¿—æŸ¥çœ‹å™¨" Height="600" Width="1000"
        WindowStartupLocation="CenterScreen">
    
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- æ ‡é¢˜ -->
        <TextBlock Grid.Row="0" Text="ðŸ“‹ ç³»ç»Ÿæ—¥å¿—å’ŒåŽ†å²è®°å½•" 
                   FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>
        
        <!-- ç­›é€‰æŽ§ä»¶ -->
        <Grid Grid.Row="1" Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <TextBlock Grid.Column="0" Text="å¼€å§‹æ—¶é—´:" VerticalAlignment="Center" Margin="0,0,5,0"/>
            <DatePicker Grid.Column="1" x:Name="StartDatePicker" SelectedDate="{Binding StartDate}" Width="120" Margin="0,0,10,0"/>
            
            <TextBlock Grid.Column="2" Text="ç»“æŸæ—¶é—´:" VerticalAlignment="Center" Margin="0,0,5,0"/>
            <DatePicker Grid.Column="3" x:Name="EndDatePicker" SelectedDate="{Binding EndDate}" Width="120" Margin="0,0,10,0"/>
            
            <TextBlock Grid.Column="4" Text="ç±»åˆ«:" VerticalAlignment="Center" Margin="10,0,5,0"/>
            <ComboBox Grid.Column="5" x:Name="CategoryComboBox" 
                      ItemsSource="{Binding Categories}" 
                      SelectedItem="{Binding SelectedCategory}"
                      Width="120"/>
        </Grid>
        
        <!-- æ—¥å¿—åˆ—è¡¨ -->
        <DataGrid Grid.Row="2" x:Name="LogsDataGrid" 
                  ItemsSource="{Binding Logs}"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  GridLinesVisibility="Horizontal"
                  HeadersVisibility="Column"
                  CanUserResizeRows="False"
                  CanUserAddRows="False"
                  CanUserDeleteRows="False"
                  SelectionMode="Single">
            <DataGrid.Columns>
                <DataGridTextColumn Header="æ—¶é—´" Binding="{Binding FormattedTimestamp}" Width="150"/>
                <DataGridTextColumn Header="çº§åˆ«" Binding="{Binding Level}" Width="80"/>
                <DataGridTextColumn Header="ç±»åˆ«" Binding="{Binding Category}" Width="100"/>
                <DataGridTextColumn Header="æ¶ˆæ¯" Binding="{Binding Message}" Width="*"/>
                <DataGridTextColumn Header="åˆçº¦" Binding="{Binding Symbol}" Width="100"/>
                <DataGridTextColumn Header="æ“ä½œ" Binding="{Binding Action}" Width="80"/>
                <DataGridTextColumn Header="ä»·æ ¼" Binding="{Binding Price, StringFormat=F4}" Width="80"/>
                <DataGridTextColumn Header="æ•°é‡" Binding="{Binding Quantity, StringFormat=F4}" Width="80"/>
                <DataGridTextColumn Header="ç»“æžœ" Binding="{Binding Result}" Width="80"/>
            </DataGrid.Columns>
        </DataGrid>
        
        <!-- åº•éƒ¨æŒ‰é’® -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button Content="åˆ·æ–°" Command="{Binding RefreshCommand}" Width="80" Margin="0,0,10,0"/>
            <Button Content="å¯¼å‡º" Command="{Binding ExportCommand}" Width="80" Margin="0,0,10,0"/>
            <Button Content="æ¸…ç†æ—¥å¿—" Command="{Binding CleanupCommand}" Width="80" Margin="0,0,10,0"/>
            <Button Content="å…³é—­" Click="CloseButton_Click" Width="80"/>
        </StackPanel>
    </Grid>
</Window>
