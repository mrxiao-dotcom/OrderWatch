<Window x:Class="OrderWatch.Views.ConditionalOrderWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="条件单配置" Height="600" Width="700"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 标题 -->
        <TextBlock Grid.Row="0" Text="条件单配置" FontSize="20" FontWeight="Bold" Margin="0,0,0,20"/>

        <!-- 配置表单 -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- 基本信息 -->
                <GroupBox Header="基本信息" Margin="0,0,0,15">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="合约:" VerticalAlignment="Center"/>
                        <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding Symbol}" Margin="10,5,0,5"/>

                        <TextBlock Grid.Row="0" Grid.Column="2" Text="方向:" VerticalAlignment="Center"/>
                        <ComboBox Grid.Row="0" Grid.Column="3" SelectedValue="{Binding Side}" Margin="10,5,0,5">
                            <ComboBoxItem Content="BUY" Tag="BUY"/>
                            <ComboBoxItem Content="SELL" Tag="SELL"/>
                        </ComboBox>

                        <TextBlock Grid.Row="1" Grid.Column="0" Text="类型:" VerticalAlignment="Center"/>
                        <ComboBox Grid.Row="1" Grid.Column="1" SelectedValue="{Binding Type}" Margin="10,5,0,5">
                            <ComboBoxItem Content="STOP_LOSS" Tag="STOP_LOSS"/>
                            <ComboBoxItem Content="TAKE_PROFIT" Tag="TAKE_PROFIT"/>
                            <ComboBoxItem Content="STOP_MARKET" Tag="STOP_MARKET"/>
                            <ComboBoxItem Content="STOP_LIMIT" Tag="STOP_LIMIT"/>
                        </ComboBox>

                        <TextBlock Grid.Row="1" Grid.Column="2" Text="数量:" VerticalAlignment="Center"/>
                        <TextBox Grid.Row="1" Grid.Column="3" Text="{Binding Quantity}" Margin="10,5,0,5"/>

                        <TextBlock Grid.Row="2" Grid.Column="0" Text="备注:" VerticalAlignment="Center"/>
                        <TextBox Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="3" Text="{Binding Remark}" Margin="10,5,0,5"/>
                    </Grid>
                </GroupBox>

                <!-- 价格设置 -->
                <GroupBox Header="价格设置" Margin="0,0,0,15">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0" Text="触发价格:" VerticalAlignment="Center"/>
                        <TextBox Grid.Column="1" Text="{Binding TriggerPrice}" Margin="10,5,0,5"/>

                        <TextBlock Grid.Column="2" Text="订单价格:" VerticalAlignment="Center"/>
                        <TextBox Grid.Column="3" Text="{Binding OrderPrice}" Margin="10,5,0,5"/>
                    </Grid>
                </GroupBox>

                <!-- 说明 -->
                <GroupBox Header="说明" Margin="0,0,0,15">
                    <StackPanel Margin="10">
                        <TextBlock Text="• STOP_LOSS (止损): 当价格达到触发价格时，以市价或限价卖出" Foreground="Gray" Margin="0,2"/>
                        <TextBlock Text="• TAKE_PROFIT (止盈): 当价格达到触发价格时，以市价或限价卖出" Foreground="Gray" Margin="0,2"/>
                        <TextBlock Text="• STOP_MARKET (止损市价): 以市价执行的止损单" Foreground="Gray" Margin="0,2"/>
                        <TextBlock Text="• STOP_LIMIT (止损限价): 以限价执行的止损单" Foreground="Gray" Margin="0,2"/>
                        <TextBlock Text="• 触发价格: 条件单被激活的价格" Foreground="Gray" Margin="0,2"/>
                        <TextBlock Text="• 订单价格: 实际下单的价格（限价单必填）" Foreground="Gray" Margin="0,2"/>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>

        <!-- 按钮区域 -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Content="保存" Width="80" Height="30" Margin="0,0,10,0" Click="SaveButton_Click"/>
            <Button Content="取消" Width="80" Height="30" Click="CancelButton_Click"/>
        </StackPanel>
    </Grid>
</Window>
