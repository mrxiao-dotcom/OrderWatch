<Window x:Class="OrderWatch.Views.AccountConfigWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="è´¦æˆ·é…ç½®" Height="450" Width="550"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Loaded="Window_Loaded">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <TextBlock Grid.Row="0" Grid.Column="0" Text="è´¦æˆ·åç§°:" Margin="0,0,10,5" VerticalAlignment="Center"/>
        <TextBox Grid.Row="0" Grid.Column="1" x:Name="AccountNameTextBox" Text="{Binding AccountInfo.Name}" Margin="0,0,0,5"/>

        <TextBlock Grid.Row="1" Grid.Column="0" Text="API Key:" Margin="0,0,10,5" VerticalAlignment="Center"/>
        <TextBox Grid.Row="1" Grid.Column="1" x:Name="ApiKeyTextBox" Text="{Binding AccountInfo.ApiKey}" Margin="0,0,0,5"/>

        <TextBlock Grid.Row="2" Grid.Column="0" Text="Secret Key:" Margin="0,0,10,5" VerticalAlignment="Center"/>
        <PasswordBox Grid.Row="2" Grid.Column="1" x:Name="SecretKeyPasswordBox" Margin="0,0,0,5"/>

        <!-- APIæµ‹è¯•æŒ‰é’® -->
        <TextBlock Grid.Row="3" Grid.Column="0" Text="APIæµ‹è¯•:" Margin="0,0,10,5" VerticalAlignment="Center"/>
        <StackPanel Grid.Row="3" Grid.Column="1" Orientation="Horizontal" Margin="0,0,0,5">
            <Button x:Name="TestApiButton" Content="ðŸ”§ æµ‹è¯•è¿žæŽ¥" Click="TestApiButton_Click" 
                    Width="100" Height="25" Background="#2196F3" Foreground="White" 
                    ToolTip="æµ‹è¯•API Keyå’ŒSecret Keyæ˜¯å¦æœ‰æ•ˆ"/>
            <TextBlock x:Name="TestResultTextBlock" Text="" Margin="10,0,0,0" 
                       VerticalAlignment="Center" FontWeight="Bold"/>
        </StackPanel>

        <CheckBox Grid.Row="4" Grid.Column="1" x:Name="IsTestNetCheckBox" Content="ä½¿ç”¨æµ‹è¯•ç½‘" IsChecked="{Binding AccountInfo.IsTestNet}" Margin="0,0,0,5"/>

        <TextBlock Grid.Row="5" Grid.Column="0" Text="é£Žé™©æ¬¡æ•°:" Margin="0,0,10,5" VerticalAlignment="Center"/>
        <TextBox Grid.Row="5" Grid.Column="1" x:Name="RiskCapitalTimesTextBox" 
                 Text="{Binding AccountInfo.RiskCapitalTimes}" 
                 TextChanged="RiskCapitalTimesTextBox_TextChanged"
                 Margin="0,0,0,5"/>

        <!-- æ·»åŠ è¯´æ˜Žæ–‡å­— -->
        <TextBlock Grid.Row="6" Grid.Column="0" Grid.ColumnSpan="2" 
                   Text="è¯´æ˜Žï¼šé£Žé™©æ¬¡æ•°ç”¨äºŽè®¡ç®—é£Žé™©é‡‘é¢ã€‚é£Žé™©é‡‘é¢ = è´¦æˆ·æƒç›Š Ã· é£Žé™©æ¬¡æ•°" 
                   Foreground="Gray" FontSize="10" Margin="0,5,0,10" TextWrapping="Wrap"/>

        <TextBlock Grid.Row="7" Grid.Column="0" Grid.ColumnSpan="2" 
                   Text="âš ï¸ è¯·ç¡®ä¿API Keyå…·æœ‰æœŸè´§äº¤æ˜“æƒé™ã€‚æµ‹è¯•ç½‘å»ºè®®æ–°ç”¨æˆ·ä½¿ç”¨ã€‚" 
                   Foreground="Orange" FontSize="10" Margin="0,0,0,10" TextWrapping="Wrap"/>

        <StackPanel Grid.Row="9" Grid.Column="0" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Content="ä¿å­˜" Click="SaveButton_Click" Width="80" Margin="0,0,10,0" 
                    Background="#4CAF50" Foreground="White" IsDefault="True"/>
            <Button Content="å–æ¶ˆ" IsCancel="True" Click="CancelButton_Click" Width="80"
                    Background="#F44336" Foreground="White"/>
        </StackPanel>
    </Grid>
</Window>
